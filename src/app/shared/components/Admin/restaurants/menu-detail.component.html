<div class="menu-detail-view">
  <style>
    .menu-detail-view { font-family:'Poppins','Segoe UI',system-ui,-apple-system,sans-serif; color:#0f172a; }
    .header-bar { display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:16px; }
    .title { font-size:1.6rem; font-weight:800; }
    .badge { display:inline-block; margin-left:8px; padding:6px 10px; border-radius:999px; background:rgba(124,58,237,0.12); color:#6d28d9; font-weight:700; font-size:0.85rem; }
    .table-card { background:#fff; border-radius:20px; padding:24px; box-shadow:0 18px 40px rgba(15,23,42,0.12); border:1px solid rgba(15,23,42,0.08); position:relative; overflow:hidden; }
    .table-card::after { content:""; position:absolute; inset:-78% 62% auto; width:340px; height:340px; background:radial-gradient(circle at center, rgba(124,58,237,0.18), transparent 65%); filter:blur(16px); }
    .inner { position:relative; z-index:1; overflow-x:auto; }
    .styled-table { width:100%; border-collapse:separate; border-spacing:0; border-radius:18px; overflow:hidden; box-shadow:0 14px 28px rgba(15,23,42,0.08); }
    .styled-table thead th { background:linear-gradient(90deg,#4c1d95,#7c3aed); color:#fff; padding:14px 16px; text-align:left; font-size:0.76rem; letter-spacing:0.08em; text-transform:uppercase; font-weight:700; }
    .styled-table tbody td { background:#fff; padding:14px 16px; border-bottom:1px solid rgba(15,23,42,0.06); color:#334155; }
    .styled-table tbody tr:nth-child(even) td { background:#f8fafc; }
    .styled-table tbody tr:hover td { background:rgba(124,58,237,0.08); }
    .cell-strong { font-weight:700; color:#0f172a; }
    .cell-muted { color:#6b7280; }
    .cell-right { text-align:right; font-weight:700; }
    .empty-row { text-align:center; padding:18px; font-weight:700; color:#64748b; }
    @media(max-width:768px){
      .styled-table, .styled-table thead, .styled-table tbody, .styled-table th, .styled-table td, .styled-table tr { display:block; }
      .styled-table thead { display:none; }
      .styled-table tbody tr { margin-bottom:12px; border:1px solid rgba(15,23,42,0.08); border-radius:14px; overflow:hidden; box-shadow:0 12px 24px rgba(15,23,42,0.08); }
      .styled-table tbody td { display:flex; justify-content:space-between; align-items:center; padding:12px 14px; }
      .styled-table tbody td::before { content:attr(data-label); font-weight:700; color:#0f172a; text-transform:uppercase; letter-spacing:0.06em; font-size:0.7rem; }
    }
  </style>

  <ng-container *ngIf="loading; else loadedTpl">
    <div class="table-card"><div class="inner">Cargando...</div></div>
  </ng-container>

  <ng-template #loadedTpl>
    <div *ngIf="error" class="table-card" style="border-color:rgba(239,68,68,0.18); margin-bottom:16px;">
      <div class="inner" style="color:#b91c1c; font-weight:700;">{{ error }}</div>
    </div>

    <div class="header-bar">
      <h2 class="title">Productos del Menú <span class="badge">ID {{ restaurantId }}</span></h2>
    </div>

    <div class="table-card">
      <div class="inner">
        <table class="styled-table">
          <thead>
            <tr>
              <th>Categoría</th>
              <th>Producto</th>
              <th>Descripción</th>
              <th class="cell-right">Precio</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngIf="!productos || productos.length === 0">
              <td colspan="4" class="empty-row">No hay productos en este menú.</td>
            </tr>
            <tr *ngFor="let producto of productos; index as i">
              <td class="cell-muted" data-label="Categoría">{{ producto.category }}</td>
              <td class="cell-strong" data-label="Producto">{{ producto.name }}</td>
              <td class="cell-muted" data-label="Descripción">{{ producto.description }}</td>
              <td class="cell-right" data-label="Precio">{{ producto.price }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </ng-template>
</div>
