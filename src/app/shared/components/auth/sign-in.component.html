<div class="signin-page">
  <div class="signin-card">
    <h2 class="signin-title">Sign In</h2>
    <p class="signin-subtitle">Inicia sesión para continuar</p>

    <div *ngIf="error" class="signin-error">
      {{ error }}
    </div>

    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="signin-form">
      <label class="signin-label">
        Email
        <input
          type="email"
          formControlName="email"
          class="signin-input"
          placeholder="tucorreo@ejemplo.com"
        />
      </label>
      <p *ngIf="form.get('email')?.invalid && form.get('email')?.touched" class="signin-error-text">
        Email inválido
      </p>

      <label class="signin-label">
        Password
        <input
          type="password"
          formControlName="password"
          class="signin-input"
          placeholder="••••••••"
        />
      </label>
      <p *ngIf="form.get('password')?.invalid && form.get('password')?.touched" class="signin-error-text">
        La contraseña es obligatoria
      </p>

      <button
        type="submit"
        [disabled]="form.invalid || isSubmitting"
        class="signin-button primary"
      >
        {{ isSubmitting ? 'Ingresando...' : 'Ingresar' }}
      </button>

      <div class="signin-divider">
        <span></span>
        <p>o</p>
        <span></span>
      </div>

      <button
        type="button"
        (click)="handleGoogleSignIn()"
        [disabled]="isGoogleLoading"
        class="signin-button secondary google"
      >
        <span class="signin-icon">
          <!-- Icono Google simple -->
          <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path
              fill="#EA4335"
              d="M12 11.5v3.7h5.3C16.6 17.7 14.6 19 12 19c-3.3 0-6-2.7-6-6s2.7-6 6-6c1.6 0 3 .6 4.1 1.6l2.6-2.6C16.9 4 14.6 3 12 3 6.9 3 3 6.9 3 12s3.9 9 9 9c4.6 0 8.5-3.3 8.5-9 0-.6-.1-1.1-.2-1.5H12z"
            />
            <path fill="#34A853" d="M12 11.5v3.7H8.3C9 17.7 10.4 19 12 19c2.6 0 4.6-1.3 5.3-3.8z" />
            <path fill="#FBBC05" d="M8.3 15.2C8.1 14.6 8 14 8 13.3c0-.7.1-1.3.3-1.9V7.7H4.6C4 8.8 3.7 10.1 3.7 11.5c0 1.4.3 2.7.9 3.8z" />
            <path fill="#4285F4" d="M12 7c1.2 0 2.3.4 3.1 1.2l2.3-2.3C16.6 4.5 14.6 3.7 12 3.7c-2.9 0-5.4 1.6-6.7 4L8.3 11C8.8 8.9 10.2 7 12 7z" />
          </svg>
        </span>
        <span class="signin-button-text">
          {{ isGoogleLoading ? 'Conectando con Google...' : 'Sign in with Google' }}
        </span>
      </button>

      <button
        type="button"
        (click)="handleGithubSignIn()"
        [disabled]="isGoogleLoading"
        class="signin-button secondary github"
      >
        <span class="signin-icon">
          <!-- Icono GitHub simple -->
          <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path
              fill="currentColor"
              d="M12 .5C5.7.5.8 5.4.8 11.7c0 4.9 3.2 9.1 7.6 10.5.6.1.8-.3.8-.6v-2.1c-3.1.7-3.7-1.5-3.7-1.5-.5-1.3-1.2-1.7-1.2-1.7-1-.7.1-.7.1-.7 1.1.1 1.7 1.1 1.7 1.1 1 .1.7 1.9 2.7 1.3.1-.8.4-1.3.7-1.6-2.5-.3-5.1-1.2-5.1-5.4 0-1.2.4-2.1 1.1-2.9-.1-.3-.5-1.4.1-2.9 0 0 .9-.3 2.9 1.1.8-.2 1.7-.3 2.5-.3s1.7.1 2.5.3c2-1.4 2.9-1.1 2.9-1.1.6 1.5.2 2.6.1 2.9.7.8 1.1 1.7 1.1 2.9 0 4.2-2.6 5.1-5.1 5.4.4.3.8 1 .8 2.1v3.1c0 .3.2.7.8.6 4.4-1.5 7.6-5.6 7.6-10.5C23.2 5.4 18.3.5 12 .5z"
            />
          </svg>
        </span>
        <span class="signin-button-text">
          {{ isGoogleLoading ? 'Conectando con GitHub...' : 'Sign in with GitHub' }}
        </span>
      </button>

      <button
        type="button"
        (click)="handleMicrosoftLogin()"
        class="signin-button secondary microsoft"
      >
        <span class="signin-icon">
          <!-- Icono Microsoft cuadricula -->
          <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <rect x="2" y="2" width="9" height="9" fill="#F25022" />
            <rect x="13" y="2" width="9" height="9" fill="#7FBA00" />
            <rect x="2" y="13" width="9" height="9" fill="#00A4EF" />
            <rect x="13" y="13" width="9" height="9" fill="#FFB900" />
          </svg>
        </span>
        <span class="signin-button-text">Sign in with Microsoft</span>
      </button>
    </form>
  </div>
</div>
