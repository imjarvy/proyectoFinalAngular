<div class="max-w-2xl mx-auto p-4" *ngIf="customer; else loading">
  <div class="card">
  <h1 class="text-2xl title">Perfil del Cliente</h1>

  <form *ngIf="isEditing" (ngSubmit)="handleSubmit($event)" class="space-y-4">
    <div>
      <label class="label">Nombre:</label>
      <input
        type="text"
        name="name"
        [(ngModel)]="formData.name"
        (input)="handleInputChange($event)"
        class="input"
        required
      />
    </div>
    <div>
      <label class="label">Email:</label>
      <input
        type="email"
        name="email"
        [(ngModel)]="formData.email"
        (input)="handleInputChange($event)"
        class="input"
        required
      />
    </div>
    <div>
      <label class="label">Teléfono:</label>
      <input
        type="tel"
        name="phone"
        [(ngModel)]="formData.phone"
        (input)="handleInputChange($event)"
        class="input"
        required
      />
    </div>
    <div class="flex flex-wrap gap-3">
      <button
        type="submit"
        class="btn-primary"
      >
        Guardar
      </button>
      <button
        type="button"
        (click)="cancelEdit()"
        class="btn-secondary"
      >
        Cancelar
      </button>
    </div>
  </form>

  <div *ngIf="!isEditing" class="space-y-4">
    <div class="info-block">
      <div class="label">Nombre</div>
      <div class="font-semibold text-slate-900">{{ customer.name }}</div>
    </div>
    <div class="info-block">
      <div class="label">Email</div>
      <div class="font-semibold text-slate-900">{{ customer.email }}</div>
    </div>
    <div class="info-block">
      <div class="label">Teléfono</div>
      <div class="font-semibold text-slate-900">{{ customer.phone }}</div>
    </div>
    <button
      (click)="isEditing = true"
      class="btn-primary"
    >
      Editar Perfil
    </button>
  </div>
  </div>
</div>

<ng-template #loading>
  <div>Loading...</div>
</ng-template>